From: Robert Ancell <robert.ancell@canonical.com>
Date: Wed, 24 Aug 2022 15:06:44 +1200
Subject: build: Use libsoup3 version of snapd-glib

https://gitlab.gnome.org/GNOME/gnome-software/-/merge_requests/1474
---
 meson.build | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/meson.build b/meson.build
index 685cf4a..68b260d 100644
--- a/meson.build
+++ b/meson.build
@@ -252,7 +252,11 @@ if get_option('gudev')
 endif
 
 if get_option('snap')
-  snap = dependency('snapd-glib', version : '>= 1.50')
+  if get_option('soup2')
+    snap = dependency('snapd-glib', version : '>= 1.50')
+  else
+    snap = dependency('snapd-glib-2', version : '>= 1.62')
+  endif
 endif
 
 if get_option('hardcoded_foss_webapps') or get_option('hardcoded_proprietary_webapps')
